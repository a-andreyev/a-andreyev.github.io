---
layout: post
title: "AngelHack 2016 в Санкт-Петербурге: Sailfish OS IoT project"
date: '2016-06-13'
categories: posts
# ru: true
tags:
- Jolla
- Sailfish
- OMP
- Angelhack 

---

История о том, как проходил [AngelHack 2016 в Санкт-Петербурге](http://angelhack.io/#panel4 #TODO интерью моё), в котором собранная мной команда выиграла в номинации от Открытой Мобильной Платформы "на лучшее использование платформы Sailfish OS"!

![sailfish_winners](/assets/img/posts/2016-06-13-angelhack-sailfish/sailfish_winners.jpg)
<!--more-->

## Disclamer

Проект, с которым мы выиграли в хакатоне, посвящен разработкам для Sailfish OS, позволяющим реализовывать концепции Internet of Things. Мы делали прототип домашнего потребительского устройства на основе ESP8266, для Arduino-прошивки поднимали CoAP 

Смело пролистывайте лирические вступления до строчек с картинками и кодом (в самом конце).

## Как Jolla Sailfish стал моим телефоном

Из приятно впечатливших меня телефонов у меня когда-то были:

+ Ericsson t20s
+ Siemens A50
+ Sony Ericsson T230
+ Siemens M65
+ Nokia 3250
+ [Motorola Motoming A1200](http://forum.motofan.ru/index.php?showforum=158),
+ Motorola C118
+ какой-то Samsung типа Е1100
+ и особенно -- Nokia N9.

[Но однажды пару-тройку лет назад в Петербурге в minijack моей N9 попало немного воды с проезжающего мимо гидроцикла](/assets/img/posts/junk/crying_pepe.jpg), и как-то совсем неудачно -- стал вопрос о замене всей платы.

Омраченный происшествием с любимой N9, я не захотел сразу искать Jolla. Сначала я решил попробовать ранний Windows Phone... Через пару дней вернул новый телефон продавцам (вернул без проблем). После посмотрел в сторону Android: нашел китайский IP67-защищенный [Lenovo S750](http://4pda.ru/forum/index.php?showtopic=474871) на Android 4.2, залил на него прошивку с оболочкой MIUI и более-менее довольный ходил с ним примерно год, но скучал по N9. Захотев поиграться, я выяснил, что от MTK-процессоров [в ближайшем будущем](/assets/img/posts/junk/scott_pilgrim_the_future_like_with_jetpacks.png) не жди никаких Cyanogen-ов, как и обновлений от Lenovo -- и стало скучно. Оказалось, что Android мне мало чем интересен, [я не особенно жалую Java](TODO: разговор java-господ). Продуцию же Apple я и до этого обходил стороной.

На десктопах у меня к тому времени уже продолжительное время стояли кеды со всякими арчлинуксами, и, как я не оттягивал время, мне жутко интересен был Jolla Sailfish. Мне понравился их интерфейс сразу, [еще по первым презентациям](#TODO: before it was cool), но [немного смущали всякие слоганы #unlike](philosoraptor hipster), хотелось чего-то поскромнее. В итоге купил в официальном магазине, когда они еще были там, и до сих пор хожу с ним не нарадуюсь.

[TODO: pic](#картинка с выборга)

## Как я узнал о хакатоне AngelHack и номинации от Открытой Мобильной Платформы

О хакатоне я узнал из рассылок [FRUCT](http://fruct.org/)-а, а о FRUCT узнать было несложно, когда я приехал Петербург и интересовался Qt и мобильными линуксами. Мое знакомство с FRUCT состоялось на каком-то из хакатонов по TizenOS. Но Tizen мне [не приглянулся иконками](#TODO: картинка "нескучные обои") и [html5-приложениями](#TODO: картинка HTML, CSS, JS, Cannabis).

Позже я посещал первый meetup от FRUCT по Sailfish в Петербурге и другие мероприятия, а в рассылке о хакатоне было объявлено, что за день до самого мероприятия пройдет еще один (второй) митап для разработчиков. На обоих, кстати, были представители Jolla и Открытой Мобильной Платформы, что приятно, т.к. можно было расспрашивать их о чем угодно.

## Время перед хакатоном

Пролистав весь список зарегистрированных проектов я увидел, что ни одного из них по Sailfish не было. Немного подождав, я зарегистрировался сам, но ни заявок в команду, ни проектов-конкуретов не увидел.

Отсутствие конкурентов смущало, т.к. сложно было решить, к чему готовиться. Отсутствие заявок в команду -- тоже. Даты хакатона в Петербурге: 11-12 июня, а 13-е -- мой День рождения.

Празднование Дня рождения с друзьями планировалось на ночь с 12-го на 13 июня еще до того, как я узнал о хакатоне, было забронировано место. Поэтому я очень переживал, что не успеваю на самую важную часть (презентацию результатов), и хотел поскорее собрать команду, которая смогла бы презентовать результаты без меня, если понадобится.

За день до митапа для разработчиков (за 2 дня до хакатона) на мой проект откликнулся дизайнер. Я объяснил ему, что да как насчет проекта и того, что я хочу уехать вечером с главной части на Д.Р. Сказал, что готов взять его к себе. Он ответил, что один человек на демонстрации -- не очень хорошо, но что больше никого все равно искать не стоит, чтобы доля каждого от еще невыигранного приза была выше.

Приехав на митап разработчиков (1 день до хакатона) я встретил там знакомого по первому митапу -- Вову. Он сказал, что тоже хочет участвовать, и спросил, есть ли у меня проект. Не смотря на то, что дизайнер предлагал никого больше не брать, я сказал Вове, что хочу взять его к себе и объяснил ситуацию насчет Дня рождения.

После митапа выяснилось, что один из моих друзей сильно приболел и не сможет прийти на праздник. Из-за этого я решил не отмечать с 12-го на 13-е, а перенести на 13-е без большой компании. Шумную компанию решили собрать позже, когда друг выздорит (на его Д.Р., который позже на пару недель). Так и сделали. Из-за этого время на выходных полностью освободилось для хакатона. Я сказал дизайнеру, что его брать не буду и извинился, оставив только Вову. 

## Хакатон

Не имея особенного опыта участия в подобных мероприятиях, я набрал походный рюкзак свяких Arduino-подобных железок, Raspberry Pi, прочей мелочи, паяльников и тому подобного. И захватил спальный мешок и зубную щетку. В итоге спать мы не ложились, а из железок приспособили только одну, но это был очень необычный опыт -- ехать на хакатон со спальником.

### Регистрация, сбор команды

Я старался приехать как можно пораньше, и пришел на место еще до того, как открылась регистрация. В здании мне сразу понравилось, было чисто и светло. На пуфиках у столов с регистрацией уже сидели несколько ребят-участников и Слава из Jolla. Слава пошутил, что призы нужно давать всем, кто вообще решил прийти на хакатон по Sailfish, но позже Кирилл объяснил, что это обсуждалось, но конечное решение в Открытой Мобильной платформе было за один крупный приз.

Вова пришел, за чаем в столовой выяснилось, что у нас у обоих есть забытый богом и Toshiba клёвый смартбук Toshiba AC100 (у меня 117-ый, у него 116-ый). Я очень люблю корпус этого устройства (и очень не люблю остальную часть), поэтому мне этот факт запомнился.

Перед началом хакатона нужно было выступить как лидер проекта, рассказав об идеях и о том, нужны ли тебе еще люди (максимум: 4 человека в команде). У меня в заявках был еще разработчик, и он пришел, но, заранее немного прогуглив информацию о нем, мне показалось, что я не хотел бы быть с ним в команде (очень субъективно, без каких-либо причин). Позже я сильно переживал, что не беру того, кто сам попросился ко мне, но всё-таки не поменял своего решения. Этот человек решил оставаться и тоже участвовать в номинации по Sailfish, так что он был первым соперником (он не был в какой-то команде, был один).

После выступления, как автор идеи, мне пришло уведомление о новой заявке от разработчика.

### Начало работы, идея проекта


### Ночь, hacking time


### Утро, подготовка к презентации


### Завершение мероприятия

## После хакатона

Я выспался, вернулся к работе и стал готовить эту статью и всякие документы на получение приза. С этим, правда, возникли сложности, т.к. кроме ИНН мне необходимо предоставить скан свидетельства из налоговой, за которым придется ехать по месту жительства в другой город.

Выяснилось через вк, что один парень с Ижевска занимается мобильным голосовым помощником, используя сервисы Яндекса, мы договорились объединить усилия.

Я приблизился к планам по поддержке голосового функционала для мобильного клиента Pebble Time, чему очень рад.

## Ресуры

+ [vk: Sailfish OS & Co \[Mer, Nemo\] ](https://vk.com/merproject)
+ [Telegram: Jolla Fan Club](https://telegram.me/joinchat/AWx9iQYZwXbqA3Qwl986SQ)
+ [Silica Reference Docs](https://sailfishos.org/develop/docs/silica/sailfish-silica-all.html)
+ [Sailfish HW Adaptations status](https://wiki.merproject.org/wiki/Adaptations/libhybris)
